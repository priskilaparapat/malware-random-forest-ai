# NETWORK TRAFFIC ANDROID MALWARE CLASSIFICATION USING RANDOM FOREST METHOD

Pada Proyek ini kami ditugaskan untuk membuat sebuah model Machine Learning. Kelompok kami menerapkan paradigma ```Supervised Learning``` dengan tipe ```Classification``` yang menggunakan ```Random Forest Methodology```.

Kelompok kami terdiri dari:
1. 12S21011 - Aldi Simamora        
2. 12S21012 - Walker Simanjuntak
3. 12S21020 - Priskila Parapat
4. 12S21022 - Karina Situmorang
5. 12S21029 - Mutiara Simanjuntak

## Step 1

Pada Step 1, kami mengambil data dari website Kaggle <br />
https://www.kaggle.com/datasets/xwolf12/network-traffic-android-malware

### Penjelasan Dataset

Pada saat ini Sistem Operasi Android sudah digunakan oleh hampir semua kalangan di seluruh dunia. Karena digunakan oleh orang banyak, berbasis ```Open Source```, dan kemungkinan menginstall aplikasi dari pihak ketiga tanpa kendali, Android menjadi target ```malware```.
Data sains sudah menjadi bidang pendidikan yang penting dalam keamanan siber, karena model analitis berbasis data dapat membantu memprediksi aktivitas yang mengancam.

## Step 2

### Penjelasan Code

### A.	Model
### Membaca data csv

```import pandas as pd``` <br />
```data = pd.read_csv('android_traffic.csv', sep=';')``` <br />
```data.head()```

Membaca file csv menggunakan fungsi read_csv dari pustaka Pandas, di sini kami menggunakan separator ‘;’ untuk memisahkan data dari satu kolom dengan kolom yang lain. Kemudian kami menggunakan fungsi head() untuk menampilkan 5 baris pertama dari DataFrame.

### Mengisi data yang kosong (NaN) jika ada
```data.fillna(0, inplace=True)``` <br />

### Drop kolom X type, kemudian membuat kolom prediksi y untuk model ML
```X = data.drop('type', axis=1)``` <br />
```y = data['type']``` <br />
```data.head()``` <br />

### Label ecoding untuk kolom string menjadi numerik
```from sklearn.preprocessing import LabelEncoder```<br />

```X = pd.get_dummies(X)``` <br />
```label_encoder = LabelEncoder()``` <br />
```y = label_encoder.fit_transform(y)``` <br />

### Membagi data ke training set dan testing set
```from sklearn.model_selection import train_test_split``` <br />
```from sklearn.ensemble import RandomForestClassifier``` <br />

``` X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)``` <br />

```rf_model = RandomForestClassifier(random_state=42)``` <br />
```rf_model.fit(X_train, y_train)``` <br />

1.	Mengisi data yang kosong (NaN):
-	Menggunakan fillna(0, inplace=True), kami mengisi nilai-nilai NaN dalam dataset dengan nilai 0.
-	Menghapus kolom 'type' dan membuat kolom prediksi 'y'

2.	X = data.drop('type', axis=1): 
-	Menghapus kolom 'type' dari dataset dan menetapkan sisanya ke variabel X, yang akan digunakan sebagai fitur-fitur untuk model.
-	y = data['type']: Menetapkan kolom 'type' ke variabel y, yang akan menjadi target atau label prediksi.

3.	X = pd.get_dummies(X):
-	 Melakukan one-hot encoding pada variabel kategorikal dalam fitur-fitur.
-	label_encoder = LabelEncoder() Membuat objek LabelEncoder untuk mengubah label kelas menjadi angka pada variabel target y.
-	Membagi data menjadi set pelatihan dan pengujian:

4.	train_test_split(X, y, test_size=0.2, random_state=42): 
-	Membagi dataset menjadi set pelatihan dan pengujian dengan rasio 80% test set dan 20% training ser. Set pelatihan digunakan untuk melatih model, sedangkan set pengujian digunakan untuk mengevaluasi performa model.

5.	Pelatihan Model RandomForestClassifier:
-	rf_model.fit(X_train, y_train) Melatih model menggunakan set pelatihan (X_train dan y_train).

Setelah melalui langkah-langkah ini, Kami memiliki model RandomForestClassifier yang telah dilatih dan siap digunakan untuk membuat prediksi pada data baru. Selanjutnya, kami mengevaluasi performa model menggunakan set pengujian (X_test dan y_test) dan melihat metrik evaluasi seperti akurasi, precision, recall, dan lainnya.

## Step 3

### Penjelasan Visualisasi

### Confusion Matrix
```import matplotlib.pyplot as plt``` <br />
```import seaborn as sns``` <br />
```from sklearn.metrics import confusion_matrix, classification_report``` <br />
```cm = confusion_matrix(y_test, rf_model.predict(X_test))``` <br />
```plt.figure(figsize=(8,6))``` <br />
```sns.heatmap(cm, annot=True, fmt="d", cmap="Blues", xticklabels=``` <br />
```["Negative","Positive"], yticklabels=["Negative","Positive"])``` <br />
```plt.xlabel("Predicted")``` <br />
```plt.ylabel("True")``` <br />
```plt.title("Confusion Matrix")``` <br />
```plt.show()``` <br />

![Confusion Matrix](https://github.com/walkervalentinuss/malware-classification-using-random-forest-method/assets/89243930/414cf08a-aa5e-41fa-889e-b036f1310862)

Kode ini kami buat untuk membuat dan menampilkan matriks kebingungan (confusion matrix) dalam bentuk heatmap. Confusion matrix ini kami gunakan untuk menampilkan seberapa baik performa model klasifikasi yang kami buat. Heatmap digunakan untuk memberikan representasi visual yang lebih mudah dipahami.

### Bar Plot
```y_pred = rf_model.predict(X_test)``` <br />
```class_report = classification_report(y_test, y_pred, output_dict=True)``` <br />
```positive_class_metrics = ['precision', 'recall', 'f1-score']``` <br />
```positive_class_values = [class_report['1'][metric] for metric in positive_class_metrics]``` <br />
```plt.figure(figsize=(8, 6))``` <br />
```sns.barplot(x=positive_class_metrics, y=positive_class_values, palette="viridis")``` <br />
```plt.title("Metrics for Positive Class")``` <br />
```plt.xlabel("Metric")``` <br />
```plt.ylabel("Value")``` <br />
```plt.show()``` <br />

![Bar Plot](https://github.com/walkervalentinuss/malware-classification-using-random-forest-method/assets/89243930/7f813e1b-d83c-4502-9c82-02ccf904b8a1)

Kode ini kami gunakan untuk membuat bar plot yang menampilkan metrik evaluasi seperti precision, recall, dan f1-score untuk kelas positif pada hasil prediksi model.
